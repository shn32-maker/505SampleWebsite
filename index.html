<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lights Out Game</title>
    <style>
        /* Import a custom font from cdnjs (not Google Fonts) */
        @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
        
        body {
            font-family: 'Courier New', monospace;
            text-align: center;
            background-color: #e8f5e9;
            color: #1b5e20;
            padding: 20px;
        }
        
        h1 {
            color: #2e7d32;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        #instructions {
            max-width: 600px;
            margin: 20px auto;
            padding: 15px;
            background-color: #c8e6c9;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(46, 125, 50, 0.2);
        }
        
        #game-board {
            display: inline-grid;
            grid-template-columns: repeat(5, 80px);
            grid-gap: 5px;
            margin: 30px auto;
            padding: 20px;
            background-color: #66bb6a;
            border-radius: 15px;
        }
        
        .square {
            width: 80px;
            height: 80px;
            background-color: #81c784;
            border: 3px solid #a5d6a7;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px;
        }
        
        /* This class makes a square "off" (dark) */
        .is-off {
            background-color: #1b5e20;
        }
        
        .square:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(129, 199, 132, 0.8);
        }
        
        button {
            font-family: 'Courier New', monospace;
            padding: 12px 30px;
            font-size: 18px;
            background-color: #43a047;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
        }
        
        button:hover {
            background-color: #388e3c;
            transform: scale(1.05);
        }
        
        footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 2px solid #66bb6a;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <h1>ðŸ”¦ Lights Out Game ðŸ”¦</h1>
    
    <div id="instructions">
        <h3>How to Play:</h3>
        <p>Click on any square to toggle it and its neighbors (up, down, left, right).</p>
        <p>Goal: Turn all squares dark to win!</p>
    </div>
    
    <button onclick="startNewGame()">New Game</button>
    
    <div id="game-board"></div>

    <footer>
        <p>Last updated: 
            <span id="lastModified"></span>
        </p>
    </footer>
    
    <script>
        // Game settings
        const BOARD_SIZE = 5; // 5x5 grid
        let board = []; // This will store our squares
        
        // Create the game board when page loads
        function createBoard() {
            const gameBoard = document.getElementById('game-board');
            gameBoard.innerHTML = ''; // Clear any existing board
            board = []; // Reset board array
            
            // Create 5x5 grid (25 squares total)
            for (let i = 0; i < BOARD_SIZE * BOARD_SIZE; i++) {
                const square = document.createElement('div');
                square.className = 'square';
                square.onclick = function() { toggleSquare(i); };
                gameBoard.appendChild(square);
                board.push(square);
            }
        }
        
        // Toggle a square and its neighbors
        function toggleSquare(index) {
            const row = Math.floor(index / BOARD_SIZE);
            const col = index % BOARD_SIZE;
            
            // Toggle the clicked square
            flipSquare(index);
            
            // Toggle neighbor above (if exists)
            if (row > 0) {
                flipSquare(index - BOARD_SIZE);
            }
            
            // Toggle neighbor below (if exists)
            if (row < BOARD_SIZE - 1) {
                flipSquare(index + BOARD_SIZE);
            }
            
            // Toggle neighbor left (if exists)
            if (col > 0) {
                flipSquare(index - 1);
            }
            
            // Toggle neighbor right (if exists)
            if (col < BOARD_SIZE - 1) {
                flipSquare(index + 1);
            }
            
            // Check if player won
            checkWin();
        }
        
        // Flip a single square on/off
        function flipSquare(index) {
            board[index].classList.toggle('is-off');
        }
        
        // Check if all squares are off (dark)
        function checkWin() {
            const allOff = board.every(square => square.classList.contains('is-off'));
            
            if (allOff) {
                setTimeout(() => {
                    alert('You win! ðŸŽ‰');
                }, 100);
            }
        }
        
        // Start a new random game
        function startNewGame() {
            createBoard();
            
            // Make random moves to scramble the board
            // This ensures the game is always solvable!
            const numMoves = 10 + Math.floor(Math.random() * 10); // 10-19 random moves
            
            for (let i = 0; i < numMoves; i++) {
                const randomIndex = Math.floor(Math.random() * (BOARD_SIZE * BOARD_SIZE));
                toggleSquare(randomIndex);
            }
        }
        
        // Start the first game when page loads
        startNewGame();
        
        // Update footer timestamp
        var x = document.lastModified;
        document.getElementById('lastModified').textContent = x;
    </script>
</body>
</html>


